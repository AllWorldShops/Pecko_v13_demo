<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="report_invoice_document_ppts">
            <t t-call="invoice_report.custom_invoice_external_layout">
                <style>
                    .table1{
                    border: 1px solid black;
                    }
                    td {
                    padding-left: 4px;
                    }

                    .table2{
                    border-top: 1px solid black;
                    border-left: 1px solid black;
                    border-right: 1px solid black;
                    }

                    .table3{
                    border-bottom: 1px solid
                    black;
                    border-left: 1px solid black;
                    border-right: 1px solid black;
                    }
                    .table4{
                    border-bottom: 1px solid black;
                    }
                    .table5{
                    border-top: 1px
                    solid black;
                    }
                    .pagebreak { page-break-before: always; } /*
                    page-break-after works, as well */

                    html *
                    {
                    font-family: Calibri;
                    }

                    thead { display: table-header-group }
                    tr { page-break-inside: avoid }

                </style>
                <t t-set="o" t-value="o.with_context({'lang':o.partner_id.lang})"/>
                <br/>
                <br/>
                <br/>
                <div class="page">
                    <div style="font-size:20px;text-align:center;padding-top:120px;">
                        <!-- <span ><strong> <t t-if="o.type == 'out_invoice'"> Tax Invoice </t><t t-if="o.type == 'out_refund'"> CREDIT NOTE </t></strong></span> -->
                        <br></br>

                        <span>
                            <strong>
                                <t t-if="o.move_type == 'out_invoice' and o.journal_id.name != 'Debit Note'">Tax
                                    Invoice
                                </t>
                                <t t-if="o.journal_id.name == 'Debit Note'">DEBIT NOTE</t>
                                <t t-if="o.move_type == 'out_refund'">CREDIT NOTE</t>
                            </strong>
                        </span>
                        <!-- <span>
                            <strong> Tax Invoice </strong>
                        </span> -->
                    </div>
                    <div class="row">
                        <div class="col-7">
                            <tr>
                                <td style="width:55%;background-color:white;font-size:13px;"
                                    class="table table-borderless">
                                    <strong>
                                        <t t-if="o.journal_id.name != 'Debit Note'">
                                            <span style="color:#875A7B">Invoice-To</span>
                                        </t>
                                        <t t-if="o.journal_id.name == 'Debit Note'">
                                            <span style="color:#875A7B">Debit Note-To</span>
                                        </t>
                                        <!-- <span style="color:#875A7B">Invoice-To</span> -->
                                    </strong>
                                    <br/>
                                    <strong>
                                        <span t-field="o.partner_id.name"/>
                                    </strong>
                                    <br/>
                                    <span t-field="o.partner_id.street"/>
                                    <span t-field="o.partner_id.street2"/>
                                    <br/>
                                    <t t-if="o.company_id.country_id.code != 'SG'">
                                        <span t-field="o.partner_id.city"/>
                                    </t>
                                    <span t-field="o.partner_id.state_id"/>
                                    <br/>
                                    <span t-field="o.partner_id.country_id"/>
                                    <span t-field="o.partner_id.zip"/>
                                    <br/>
                                    Phone:
                                    <span t-field="o.partner_id.phone"/>
                                    <br/>
                                    <t t-if="o.company_id.country_id.code != 'SG'">
                                        Email:
                                        <span t-field="o.partner_id.email"/>
                                    </t>
                                    <br/>
                                    <br/>

                                </td>
                            </tr>
                        </div>
                        <div class="col-5">
                            <td style="width:45%;background-color:white;font-size:13px;">
                                <tr class="table table-borderless" >
                                    <span class="table table-borderless;" style="background-color: #f4f4f5;">
                                        <strong>Delivery Address</strong>
                                    </span>
                                </tr>
                                <br/>
                                <tr>
                                    <td class="table table-borderless">
                                        <span t-field="o.partner_shipping_id"/>
                                        <br/>
                                        <span t-field="o.partner_shipping_id.street"/>
                                        <span t-field="o.partner_shipping_id.street2"/>
                                        <br/>
                                        <span t-field="o.partner_shipping_id.city"/>
                                        <br/>
                                        <span t-field="o.partner_shipping_id.state_id"/>
                                        <br/>
                                        <span t-field="o.partner_shipping_id.zip"/>
                                        <br/>
                                        <span t-field="o.partner_shipping_id.country_id"/>
                                    </td>
                                </tr>
                            </td>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-7">
                        </div>
                        <div class="col-5">
                            <span style="background-color: #f4f4f5;">

                                <strong>
                                    <t t-if="o.move_type == 'out_invoice' and o.journal_id.name != 'Debit Note'">
                                        Invoice No.
                                    </t>
                                    <t t-if="o.journal_id.name == 'Debit Note'">DN No.</t>
                                    <t t-if="o.move_type == 'out_invoice'"></t>
                                    <t t-if="o.move_type == 'out_refund'">CN No.
                                    </t>
                                </strong>

                                <span style="padding-left:70px;" t-field="o.name"/>
                            </span>


                            <!-- <strong> <t t-if="o.type == 'out_invoice'"> Invoice No. </t><t t-if="o.type == 'out_refund'"> CN No.
                            </t></strong> -->
                            <!-- <strong>Invoice No.</strong> -->
                            <br/>
                            <tr>
                                <td>
                                    <strong>Date</strong>
                                    <span style="padding-left:120px;" t-field="o.invoice_date"
                                          t-options='{"format": "dd/MM/yyyy"}'/>
                                </td>
                            </tr>
                            <br/>
                            <tr>
                                <span style="background-color: #f4f4f5;">
                                    <strong>Payment Terms</strong>

                                    <span style="padding-left:38px;background-color: #f4f4f5;"
                                          t-field="o.invoice_payment_term_id.name"/>
                                </span>
                            </tr>
                            <br/>
                            <tr>
                                <td>
                                    <strong>SO No.</strong>
                                    <span style="padding-left:103px;"
                                          t-field="o.invoice_origin"/>
                                </td>
                            </tr>
                            <br/>
                            <tr>
                                <span style="background-color: #f4f4f5;">
                                    <strong>Cust P.O</strong>
                                    <span style="padding-left:90px;" t-field="o.customer_po_no" />
                                </span>
                            </tr>
                            <br/>
                            <tr>
                                <td>
                                    <span>
                                    <strong>Do No.</strong>
                                     <span style="padding-left:107px;" t-field="o.do_name" />
                                    </span>
                                </td>
                            </tr>


                            <!--                                                    <td style="height:5px;">-->
                            <!--													<t t-if="isinstance(o.do_name, str)">-->
                            <!--														<t t-set="string_to_output"-->
                            <!--															t-value="o.do_name.split(',')" />-->
                            <!--														<t t-foreach="string_to_output" t-as="string_line">-->
                            <!--															<span t-esc="string_line" />-->
                            <!--															<br />-->
                            <!--														</t>-->
                            <!--													</t>-->


                            <!-- <span t-field="o.do_name" /> -->
                            <!--                                                    </td>-->
                        </div>
                    </div>
                    <br/>
                    <t t-set="product_stock_uom_qty" t-value="0"/>
                    <table class="table table-borderless"
                           name="invoice_line_table" style="line-height:12pt;font-size:10px;">
                        <thead>
                            <tr>
                                <th class="text-left" style="width:6%">S.No</th>
                                <th class="text-left" style="width:30%;text-align:left">Pecko Part No</th>
                                <th class="text-left" style="width:30%;text-align:left">Part No</th>
                                <th class="text-left" style="width:28%;text-align:left">Description</th>
                                <th t-if="o.company_id.country_id.code == 'SG'" class="text-left" style="width:20%;">
                                    Country of Origin
                                </th>
                                <th class="text-center" style="width:18%">Quantity</th>
                                <th class="text-center" style="width:13%">Unit</th>
                                <th class="text-right" style="width:20%">
                                    Price(<span t-field="o.currency_id"/>)
                                </th>
                                <th class="text-right" style="width:10%">Tax</th>
                                <th class="text-right" style="width:23%;padding-right:2px">
                                    Amount(<span t-field="o.currency_id"/>)
                                </th>
                            </tr>
                        </thead>
                        <tbody class="invoice_tbody;table table-borderless">
                            <style>tbody tr:nth-child(odd){ background-color: #f4f4f5; }</style>
                            <t t-set="i" t-value="1"/>
                            <tr t-foreach="o.invoice_line_ids" t-as="l">
                                 <td style=" text-align: left;">
                                     <span t-field="l.position_no"/>
                                 </td>
                                <!-- <t> -->
                                <!--                                <t t-if="not l.display_type" name="account_invoice_line_accountable">-->
<!--                                <td style=" text-align: left;">-->
<!--                                    <span t-esc="i"/>-->
<!--                                    <span t-set="i" t-value="i+1"/>-->
<!--                                </td>-->
                                <td style=" text-align: left;">
                                    <span t-field="l.product_id.default_code"/>
                                </td>
                                <td style=" text-align: left;">
                                    <span t-field="l.product_id.name"/>
                                </td>

                                <td style=" text-align: left;">
                                    <span t-field="l.name"/>
                                </td>
                                <td t-if="o.company_id.country_id.code == 'SG'" style=" text-align: left;">
                                    <span t-field="l.product_id.country_origin"/>
                                </td>
                                <td style=" text-align: left;">
                                    <span t-field="l.quantity"/>
                                </td>
                                <td style=" text-align: left;">
                                    <span t-field="l.product_uom_id.name"/>
                                </td>
                                <td style=" text-align: right;">
                                    <span t-field="l.price_unit"/>
                                </td>
                                <td style=" text-align: right;">
                                    <span t-field="l.tax_ids.id"/>
                                </td>
                                <td style=" text-align: right;padding-right:2px">
                                    <!-- <span t-esc="'%.2f'%(l.price_subtotal)" /> -->
                                    <!-- <t t-set="get_price_subtotal_report"
                        t-value="l.get_price_subtotal_report(l.price_subtotal)" />
                                    <span t-esc="'%.2f'% get_price_subtotal_report" /> -->
                                    <span t-field="l.price_subtotal"/>
                                </td>
                                <!--                                </t>-->
                                <t t-if="l.display_type == 'line_section'">
                                    <td colspan="99" style="font-style: Italic;">
                                        <span t-field="l.name"/>
                                    </td>
                                </t>
                                <t t-if="l.display_type == 'line_note'">
                                    <td colspan="99" style="font-style: Italic;">
                                        <span t-field="l.name"/>
                                    </td>
                                </t>
                            </tr>
                        </tbody>
                    </table>

                    <table style='width:100%;background:transparent;'>
                        <tr
                                style='background-color: white;background:transparent !important;'>
                            <td>
                            </td>
                        </tr>
                    </table>
                    <t t-if="o.company_id.country_id.code != 'SG'">
                        <!--                        <table class="table table-borderless" width="100%" style="border-top: 1px solid black;border-bottom: 1px solid black;font-size:10px;table table-borderless">-->
                        <!--                            <tr>-->
                        <div class="row"
                             style="border-top:1px solid black;border-bottom:1px solid black;background:#F4F4F5">
                            <div class="col-4">
                                <td width="25%" style="line-height:2;padding:2px;font-size:13px;line-height:12px">
                                    <div style="font-size:10px;line-height:2">
                                        For Tax Purpose in MYR Only
                                    </div>
                                    <div style="font-size:10px;line-height:1">
                                        1 MYR =
                                        <span t-field="o.exchange_rate"/>
                                        USD
                                        <!-- <span t-field="o.company_currency_id.name" /> -->
                                    </div>

                                    <div style="font-size:10px;line-height:1">
                                        Conversation Rate =
                                        <span t-field="o.exchange_rate"/>
                                        <!-- 1 USD = <span t-esc="'%.4f'% o.currency_conv_rate"/> <span t-field="o.company_currency_id.name"/><br/> -->
                                    </div>
                                </td>
                            </div>
                            <div class="col-5">
                                <td width="25%" style="text-align:right;padding:2px;">
                                    <div style="font-size:10px;text-align:right;line-height:1">
                                        Net Total (MYR) :
                                        <span t-esc="o.get_net_amount_report()"/>
                                    </div>

                                    <div style="font-size:10px;line-height:1">
                                        Tax Amount :
                                        <span t-esc="o.amount_tax / o.exchange_rate"/>
                                    </div>

                                    <div style="font-size:10px;line-height:1">
                                        Grand Total (MYR) :
                                        <span t-esc="o.amount_tax / o.exchange_rate + o.get_net_amount_report()"/>
                                    </div>
                                </td>
                            </div>
                            <!--                                <td width="5%" style="text-align:right">-->
                            <!--                                    &lt;!&ndash; <t t-set="ex" t-value="o.currency_conv_rate" /> &ndash;&gt;-->
                            <!--                                    &lt;!&ndash; <t t-set="ex" t-value="o.get_currency_conv_rate()" /> &ndash;&gt;-->
                            <!--                                    &lt;!&ndash; <span t-esc="'%.2f'%(o.amount_untaxed /o.exchange_rate)" />-->
                            <!--                                    <br />-->
                            <!--                                    <span t-esc="'%.2f'%(o.amount_tax / o.exchange_rate)" />-->
                            <!--                                    <br />-->
                            <!--                                    <span t-esc="'%.2f'%(o.amount_total /o.exchange_rate)" />-->
                            <!--                                    <br /> &ndash;&gt;-->
                            <!--                                   <span t-esc="o.get_net_amount_report()" />-->
                            <!--                                    &lt;!&ndash; <span t-esc="'%.2f'%(o.amount_untaxed /o.exchange_rate)" /> &ndash;&gt;-->
                            <!--                                    <br/>-->

                            <!--                                    <span t-esc="o.amount_tax / o.exchange_rate" />-->
                            <!--                                    <br/>-->
                            <!--                                    <span t-esc="o.amount_tax / o.exchange_rate + o.get_net_amount_report()" />-->
                            <!--                                    &lt;!&ndash; <span t-esc="'%.2f'%(o.amount_total /o.exchange_rate)" /> &ndash;&gt;-->
                            <!--                                </td>-->
                            <div class="col-4">
                                <td width="25%" style="text-align:right;padding:2px;">
                                    <div style="font-size:10px;line-height:0.5">
                                        Net Total (
                                        <span t-field="o.currency_id"/>
                                        ) :
                                        <span t-esc="'%.2f'%(o.amount_untaxed)"/>
                                    </div>

                                    <div style="font-size:10px;line-height:0.5">
                                        Tax Amount :
                                        <span t-esc="'%.2f'%(o.amount_tax)"/>
                                    </div>

                                    <div style="font-size:10px;line-height:0.5">
                                        Grand Total (
                                        <span t-field="o.currency_id"/>
                                        ) :
                                        <span t-esc="'%.2f'%(o.amount_total)"/>
                                    </div>
                                </td>
                                <!--                                <td width="5%" style="text-align:right">-->
                                <!--                                    <div>-->
                                <!--                                    <span t-esc="'%.2f'%(o.amount_untaxed)"/>-->
                                <!--                                    </div>-->
                                <!--                                <br/>-->
                                <!--                                   <div>-->
                                <!--                                    <span t-esc="'%.2f'%(o.amount_tax)"/>-->
                                <!--                                   </div>-->
                                <!--                                    <br/>-->
                                <!--                                    <br/>-->
                                <!--                                    <span t-esc="'%.2f'%(o.amount_total)"/>-->
                                <!--                                </td>-->
                            </div>
                        </div>
                        <!--                            </tr>-->
                        <!--                        </table>-->
                    </t>

<!--                    <t t-if="o.company_id.country_id.code == 'SG'">-->
<!--                        &lt;!&ndash;                        <table class="table table-borderless" width="100%" style="border-top: 1px solid black;border-bottom: 1px solid black;font-size:10px;table table-borderless">&ndash;&gt;-->
<!--                        &lt;!&ndash;                            <tr>&ndash;&gt;-->
<!--                        <div class="row"-->
<!--                             style="border-top:1px solid black;border-bottom:1px solid black;background:#F4F4F5">-->
<!--                            <div class="col-4">-->
<!--                                <td width="25%" style="line-height:2;padding:2px;font-size:13px;line-height:12px">-->
<!--                                    <div style="font-size:10px;line-height:2">-->
<!--                                        For Tax Purpose in USD Only-->
<!--                                    </div>-->
<!--                                    <div style="font-size:10px;line-height:1">-->
<!--                                        1 MYR =-->
<!--                                        <span t-field="o.exchange_rate"/>-->
<!--                                        USD-->
<!--                                        &lt;!&ndash; <span t-field="o.company_currency_id.name" /> &ndash;&gt;-->
<!--                                    </div>-->

<!--                                    <div style="font-size:10px;line-height:1">-->
<!--                                        Conversation Rate =-->
<!--                                        <span t-field="o.exchange_rate"/>-->
<!--                                        &lt;!&ndash; 1 USD = <span t-esc="'%.4f'% o.currency_conv_rate"/> <span t-field="o.company_currency_id.name"/><br/> &ndash;&gt;-->
<!--                                    </div>-->
<!--                                </td>-->
<!--                            </div>-->
<!--                            <div class="col-5">-->
<!--                                <td width="25%" style="text-align:right;padding:2px;">-->
<!--                                    <div style="font-size:10px;text-align:right;line-height:1">-->
<!--                                        Net Total (USD) :-->
<!--                                        <span t-esc="o.get_net_amount_report()"/>-->
<!--                                    </div>-->

<!--                                    <div style="font-size:10px;line-height:1">-->
<!--                                        Tax Amount :-->
<!--                                        <span t-esc="o.amount_tax / o.exchange_rate"/>-->
<!--                                    </div>-->

<!--                                    <div style="font-size:10px;line-height:1">-->
<!--                                        Grand Total (USD) :-->
<!--                                        <span t-esc="o.amount_tax / o.exchange_rate + o.get_net_amount_report()"/>-->
<!--                                    </div>-->
<!--                                </td>-->
<!--                            </div>-->
<!--                            &lt;!&ndash;                                <td width="5%" style="text-align:right">&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    &lt;!&ndash; <t t-set="ex" t-value="o.currency_conv_rate" /> &ndash;&gt;&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    &lt;!&ndash; <t t-set="ex" t-value="o.get_currency_conv_rate()" /> &ndash;&gt;&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    &lt;!&ndash; <span t-esc="'%.2f'%(o.amount_untaxed /o.exchange_rate)" />&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    <br />&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    <span t-esc="'%.2f'%(o.amount_tax / o.exchange_rate)" />&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    <br />&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    <span t-esc="'%.2f'%(o.amount_total /o.exchange_rate)" />&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    <br /> &ndash;&gt;&ndash;&gt;-->
<!--                            &lt;!&ndash;                                   <span t-esc="o.get_net_amount_report()" />&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    &lt;!&ndash; <span t-esc="'%.2f'%(o.amount_untaxed /o.exchange_rate)" /> &ndash;&gt;&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    <br/>&ndash;&gt;-->

<!--                            &lt;!&ndash;                                    <span t-esc="o.amount_tax / o.exchange_rate" />&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    <br/>&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    <span t-esc="o.amount_tax / o.exchange_rate + o.get_net_amount_report()" />&ndash;&gt;-->
<!--                            &lt;!&ndash;                                    &lt;!&ndash; <span t-esc="'%.2f'%(o.amount_total /o.exchange_rate)" /> &ndash;&gt;&ndash;&gt;-->
<!--                            &lt;!&ndash;                                </td>&ndash;&gt;-->
<!--                            <div class="col-4">-->
<!--                                <td width="25%" style="text-align:right;padding:2px;">-->
<!--                                    <div style="font-size:10px;line-height:0.5">-->
<!--                                        Net Total (-->
<!--                                        <span t-field="o.currency_id"/>-->
<!--                                        ) :-->
<!--                                        <span t-esc="'%.2f'%(o.amount_untaxed)"/>-->
<!--                                    </div>-->

<!--                                    <div style="font-size:10px;line-height:0.5">-->
<!--                                        Tax Amount :-->
<!--                                        <span t-esc="'%.2f'%(o.amount_tax)"/>-->
<!--                                    </div>-->

<!--                                    <div style="font-size:10px;line-height:0.5">-->
<!--                                        Grand Total (-->
<!--                                        <span t-field="o.currency_id"/>-->
<!--                                        ) :-->
<!--                                        <span t-esc="'%.2f'%(o.amount_total)"/>-->
<!--                                    </div>-->
<!--                                </td>-->
<!--                                &lt;!&ndash;                                <td width="5%" style="text-align:right">&ndash;&gt;-->
<!--                                &lt;!&ndash;                                    <div>&ndash;&gt;-->
<!--                                &lt;!&ndash;                                    <span t-esc="'%.2f'%(o.amount_untaxed)"/>&ndash;&gt;-->
<!--                                &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--                                &lt;!&ndash;                                <br/>&ndash;&gt;-->
<!--                                &lt;!&ndash;                                   <div>&ndash;&gt;-->
<!--                                &lt;!&ndash;                                    <span t-esc="'%.2f'%(o.amount_tax)"/>&ndash;&gt;-->
<!--                                &lt;!&ndash;                                   </div>&ndash;&gt;-->
<!--                                &lt;!&ndash;                                    <br/>&ndash;&gt;-->
<!--                                &lt;!&ndash;                                    <br/>&ndash;&gt;-->
<!--                                &lt;!&ndash;                                    <span t-esc="'%.2f'%(o.amount_total)"/>&ndash;&gt;-->
<!--                                &lt;!&ndash;                                </td>&ndash;&gt;-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        &lt;!&ndash;                            </tr>&ndash;&gt;-->
<!--                        &lt;!&ndash;                        </table>&ndash;&gt;-->
<!--                    </t>-->
                    <p style="page-break-after:always"></p>
                </div>
            </t>
        </template>
        <template id="report_ppts_invoice_custom">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="invoice_report.report_invoice_document_ppts"
                       t-lang="o.partner_id.lang"/>
                </t>
            </t>
        </template>
    </data>
</odoo>
